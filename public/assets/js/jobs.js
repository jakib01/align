/* const jobs = {
  searchedJobs: {
    jobCount: 15,
    sortBy: "Newest Post",
    jobCards: [
      {
        title: "UI / UX Designer",
        subtitle:
          "The User Experience Designer position exists to create compelling and digital user experience through excellent design...",
        employmentType: "Full Time",
        experience: "Min. 1 Year",
        level: "Senior Level",
        salary: "$70,000 - $90,000",
        actions: ["Apply Now"],
        iconColor: "#2e2882",
      },
      {
        title: "Sr. Product Designer",
        subtitle:
          "The Senior Product Designer is responsible for improving the overall user experience through creative design...",
        employmentType: "Full Time",
        experience: "Min. 3 Years",
        level: "Mid Level",
        salary: "$85,000 - $110,000",
        actions: ["Apply Now"],
        iconColor: "#f76754",
      },
      {
        title: "User Experience Designer",
        subtitle:
          "This role focuses on enhancing the usability and visual appeal of our web applications and products...",
        employmentType: "Full Time",
        experience: "Min. 2 Years",
        level: "Senior Level",
        salary: "$75,000 - $95,000",
        actions: ["Apply Now"],
        iconColor: "#55acee",
      },
      {
        title: "Product Designer",
        subtitle:
          "Collaborate with product managers and engineers to create a seamless product experience...",
        employmentType: "Part Time",
        experience: "Min. 1 Year",
        level: "Mid Level",
        salary: "$40,000 - $60,000",
        actions: ["Apply Now"],
        iconColor: "#1e1f26",
      },
      {
        title: "UI Developer",
        subtitle:
          "Design and implement engaging user interfaces with a focus on usability and performance...",
        employmentType: "Full Time",
        experience: "Min. 1 Year",
        level: "Entry Level",
        salary: "$65,000 - $80,000",
        actions: ["Apply Now"],
        iconColor: "#fe5b5f",
      },
      {
        title: "Lead UI / UX Designer",
        subtitle:
          "Lead the design efforts and mentor junior designers to create outstanding user experiences...",
        employmentType: "Full Time",
        experience: "Min. 5 Years",
        level: "Lead",
        salary: "$100,000 - $120,000",
        actions: ["Apply Now"],
        iconColor: "#ffe80f",
      },
      {
        title: "User Interface Designer",
        subtitle:
          "The User Interface Designer will work closely with engineers to implement intuitive user interfaces...",
        employmentType: "Full Time",
        experience: "Min. 1 Year",
        level: "Senior Level",
        salary: "$70,000 - $90,000",
        actions: ["Apply Now"],
        iconColor: "#5c6bc0",
      },
      {
        title: "UX Designer",
        subtitle:
          "Collaborate with cross-functional teams to improve the user experience across multiple products...",
        employmentType: "Full Time",
        experience: "Min. 2 Years",
        level: "Mid Level",
        salary: "$75,000 - $95,000",
        actions: ["Apply Now"],
        iconColor: "#ea4c88",
      },
      {
        title: "Junior UI / UX Designer",
        subtitle:
          "Work under the guidance of senior designers to create impactful user interfaces and experiences...",
        employmentType: "Full Time",
        experience: "Min. 6 Months",
        level: "Junior Level",
        salary: "$50,000 - $65,000",
        actions: ["Apply Now"],
        iconColor: "#ff9800",
      },
      {
        title: "Senior UX Designer",
        subtitle:
          "Take charge of designing user flows and creating high-fidelity prototypes for our flagship products...",
        employmentType: "Full Time",
        experience: "Min. 4 Years",
        level: "Senior Level",
        salary: "$90,000 - $110,000",
        actions: ["Apply Now"],
        iconColor: "#673ab7",
      },
      {
        title: "Mobile UI Designer",
        subtitle:
          "Design intuitive and responsive user interfaces for our mobile applications across iOS and Android...",
        employmentType: "Full Time",
        experience: "Min. 2 Years",
        level: "Mid Level",
        salary: "$80,000 - $100,000",
        actions: ["Apply Now"],
        iconColor: "#03a9f4",
      },
      {
        title: "Graphic Designer",
        subtitle:
          "Responsible for creating visual content that communicates our brand's message effectively...",
        employmentType: "Contract",
        experience: "Min. 2 Years",
        level: "Mid Level",
        salary: "$45,000 - $60,000",
        actions: ["Apply Now"],
        iconColor: "#4caf50",
      },
      {
        title: "Interaction Designer",
        subtitle:
          "Focus on the interaction between users and products to ensure seamless user experiences...",
        employmentType: "Full Time",
        experience: "Min. 3 Years",
        level: "Mid Level",
        salary: "$85,000 - $105,000",
        actions: ["Apply Now"],
        iconColor: "#009688",
      },
      {
        title: "Visual Designer",
        subtitle:
          "Create visually engaging designs for web and mobile platforms, ensuring brand consistency...",
        employmentType: "Full Time",
        experience: "Min. 1 Year",
        level: "Entry Level",
        salary: "$60,000 - $75,000",
        actions: ["Apply Now"],
        iconColor: "#e91e63",
      },
      {
        title: "UX Researcher",
        subtitle:
          "Conduct user research and gather insights to improve product designs and user flows...",
        employmentType: "Full Time",
        experience: "Min. 3 Years",
        level: "Mid Level",
        salary: "$85,000 - $105,000",
        actions: ["Apply Now"],
        iconColor: "#9c27b0",
      },
    ],
  },
}; */

const jobs = {
  searchedJobs: {
    jobCount: 15,
    sortBy: "Newest Post",
    jobCards: [
      {
        title: "UI / UX Designer",
        company: "Creative Solutions",
        subtitle:
          "The User Experience Designer position exists to create compelling and digital user experience through excellent design...",
        employmentType: "Full Time",
        experience: "Min. 1 Year",
        level: "Senior Level",
        salary: "$70,000 - $90,000",
        actions: ["Apply Now"],
        iconColor: "#2e2882",
        description:
          "Lorem ipsum dolor sit amet consectetur, adipisicing elit...",
        requirements: ["Requirement 1", "Requirement 2", "Requirement 3"],
        benefits: ["Benefit 1", "Benefit 2", "Benefit 3"],
        aboutUs: "Creative Solutions is a leader in design and innovation...",
        applicationDeadline: "2024-12-31",
        visaSponsorship: "Available",
      },
      {
        title: "Sr. Product Designer",
        company: "Tech Innovators",
        subtitle:
          "The Senior Product Designer is responsible for improving the overall user experience through creative design...",
        employmentType: "Full Time",
        experience: "Min. 3 Years",
        level: "Mid Level",
        salary: "$85,000 - $110,000",
        actions: ["Apply Now"],
        iconColor: "#f76754",
        description:
          "Lorem ipsum dolor sit amet consectetur, adipisicing elit...",
        requirements: ["Requirement 1", "Requirement 2", "Requirement 3"],
        benefits: ["Benefit 1", "Benefit 2", "Benefit 3"],
        aboutUs:
          "Tech Innovators is at the forefront of product development...",
        applicationDeadline: "2024-11-15",
        visaSponsorship: "Not Available",
      },
      {
        title: "User Experience Designer",
        company: "Web Solutions Inc.",
        subtitle:
          "This role focuses on enhancing the usability and visual appeal of our web applications and products...",
        employmentType: "Full Time",
        experience: "Min. 2 Years",
        level: "Senior Level",
        salary: "$75,000 - $95,000",
        actions: ["Apply Now"],
        iconColor: "#55acee",
        description:
          "Lorem ipsum dolor sit amet consectetur, adipisicing elit...",
        requirements: ["Requirement 1", "Requirement 2", "Requirement 3"],
        benefits: ["Benefit 1", "Benefit 2", "Benefit 3"],
        aboutUs: "Web Solutions Inc. is a global leader in web design...",
        applicationDeadline: "2024-10-30",
        visaSponsorship: "Available",
      },
      {
        title: "Product Designer",
        company: "DesignPro",
        subtitle:
          "Collaborate with product managers and engineers to create a seamless product experience...",
        employmentType: "Part Time",
        experience: "Min. 1 Year",
        level: "Mid Level",
        salary: "$40,000 - $60,000",
        actions: ["Apply Now"],
        iconColor: "#1e1f26",
        description:
          "Lorem ipsum dolor sit amet consectetur, adipisicing elit...",
        requirements: ["Requirement 1", "Requirement 2", "Requirement 3"],
        benefits: ["Benefit 1", "Benefit 2", "Benefit 3"],
        aboutUs:
          "DesignPro specializes in creative and innovative product design...",
        applicationDeadline: "2024-09-15",
        visaSponsorship: "Not Available",
      },
      {
        title: "UI Developer",
        company: "CodeMasters",
        subtitle:
          "Design and implement engaging user interfaces with a focus on usability and performance...",
        employmentType: "Full Time",
        experience: "Min. 1 Year",
        level: "Entry Level",
        salary: "$65,000 - $80,000",
        actions: ["Apply Now"],
        iconColor: "#fe5b5f",
        description:
          "Lorem ipsum dolor sit amet consectetur, adipisicing elit...",
        requirements: ["Requirement 1", "Requirement 2", "Requirement 3"],
        benefits: ["Benefit 1", "Benefit 2", "Benefit 3"],
        aboutUs: "CodeMasters is a leading company in software development...",
        applicationDeadline: "2024-12-01",
        visaSponsorship: "Available",
      },
      {
        title: "Lead UI / UX Designer",
        company: "Future Vision",
        subtitle:
          "Lead the design efforts and mentor junior designers to create outstanding user experiences...",
        employmentType: "Full Time",
        experience: "Min. 5 Years",
        level: "Lead",
        salary: "$100,000 - $120,000",
        actions: ["Apply Now"],
        iconColor: "#ffe80f",
        description:
          "Lorem ipsum dolor sit amet consectetur, adipisicing elit...",
        requirements: ["Requirement 1", "Requirement 2", "Requirement 3"],
        benefits: ["Benefit 1", "Benefit 2", "Benefit 3"],
        aboutUs:
          "Future Vision is dedicated to revolutionizing UI/UX design...",
        applicationDeadline: "2024-11-05",
        visaSponsorship: "Not Available",
      },
      {
        title: "User Interface Designer",
        company: "UX Experts",
        subtitle:
          "The User Interface Designer will work closely with engineers to implement intuitive user interfaces...",
        employmentType: "Full Time",
        experience: "Min. 1 Year",
        level: "Senior Level",
        salary: "$70,000 - $90,000",
        actions: ["Apply Now"],
        iconColor: "#5c6bc0",
        description:
          "Lorem ipsum dolor sit amet consectetur, adipisicing elit...",
        requirements: ["Requirement 1", "Requirement 2", "Requirement 3"],
        benefits: ["Benefit 1", "Benefit 2", "Benefit 3"],
        aboutUs: "UX Experts is a renowned company in user interface design...",
        applicationDeadline: "2024-09-20",
        visaSponsorship: "Available",
      },
      {
        title: "UX Designer",
        company: "InnovationHub",
        subtitle:
          "Collaborate with cross-functional teams to improve the user experience across multiple products...",
        employmentType: "Full Time",
        experience: "Min. 2 Years",
        level: "Mid Level",
        salary: "$75,000 - $95,000",
        actions: ["Apply Now"],
        iconColor: "#ea4c88",
        description:
          "Lorem ipsum dolor sit amet consectetur, adipisicing elit...",
        requirements: ["Requirement 1", "Requirement 2", "Requirement 3"],
        benefits: ["Benefit 1", "Benefit 2", "Benefit 3"],
        aboutUs: "InnovationHub focuses on delivering advanced UX solutions...",
        applicationDeadline: "2024-10-15",
        visaSponsorship: "Not Available",
      },
      {
        title: "Junior UI / UX Designer",
        company: "Creative Start",
        subtitle:
          "Work under the guidance of senior designers to create impactful user interfaces and experiences...",
        employmentType: "Full Time",
        experience: "Min. 6 Months",
        level: "Junior Level",
        salary: "$50,000 - $65,000",
        actions: ["Apply Now"],
        iconColor: "#ff9800",
        description:
          "Lorem ipsum dolor sit amet consectetur, adipisicing elit...",
        requirements: ["Requirement 1", "Requirement 2", "Requirement 3"],
        benefits: ["Benefit 1", "Benefit 2", "Benefit 3"],
        aboutUs: "Creative Start is a new company looking for fresh talent...",
        applicationDeadline: "2024-08-30",
        visaSponsorship: "Available",
      },
      {
        title: "Senior UX Designer",
        company: "User First",
        subtitle:
          "Take charge of designing user flows and creating high-fidelity prototypes for our flagship products...",
        employmentType: "Full Time",
        experience: "Min. 4 Years",
        level: "Senior Level",
        salary: "$90,000 - $110,000",
        actions: ["Apply Now"],
        iconColor: "#673ab7",
        description:
          "Lorem ipsum dolor sit amet consectetur, adipisicing elit...",
        requirements: ["Requirement 1", "Requirement 2", "Requirement 3"],
        benefits: ["Benefit 1", "Benefit 2", "Benefit 3"],
        aboutUs:
          "User First prioritizes user-centric design in all projects...",
        applicationDeadline: "2024-09-10",
        visaSponsorship: "Not Available",
      },
      // Add remaining jobs as needed
    ],
  },
};

// Function to filter jobs based on search inputs and checkboxes
function filterJobs() {
  const jobTitleInput = document
    .getElementById("jobTitleInput")
    .value.toLowerCase();
  const jobTypeInput = document
    .getElementById("jobTypeInput")
    .value.toLowerCase();
  const salaryRangeInput = document
    .getElementById("salaryInput")
    .value.toLowerCase();

  const jobTypeFilters = [];
  const levelFilters = [];
  const salaryFilters = [];

  // Check for Employment Type filters (from checkboxes)
  if (document.getElementById("full-time").checked)
    jobTypeFilters.push("Full Time");
  if (document.getElementById("part-time").checked)
    jobTypeFilters.push("Part Time");
  if (document.getElementById("contract").checked)
    jobTypeFilters.push("Contract");

  // Check for Seniority Level filters (from checkboxes)
  if (document.getElementById("entry-level").checked)
    levelFilters.push("Entry Level");
  if (document.getElementById("mid-level").checked)
    levelFilters.push("Mid Level");
  if (document.getElementById("senior-level").checked)
    levelFilters.push("Senior Level");

  // Check for Salary Range filters (from checkboxes)
  if (document.getElementById("range-50-70").checked)
    salaryFilters.push({ min: 50000, max: 70000 });
  if (document.getElementById("range-70-90").checked)
    salaryFilters.push({ min: 70000, max: 90000 });
  if (document.getElementById("range-90-110").checked)
    salaryFilters.push({ min: 90000, max: 110000 });

  const filteredJobs = jobs.searchedJobs.jobCards.filter((job) => {
    // Search input filters
    const jobMatchesTitle = job.title.toLowerCase().includes(jobTitleInput);
    const jobMatchesTypeInput = job.employmentType
      .toLowerCase()
      .includes(jobTypeInput);
    const jobMatchesSalaryInput = job.salary
      .toLowerCase()
      .includes(salaryRangeInput);

    // Checkbox filters
    const jobMatchesTypeCheckbox =
      jobTypeFilters.length === 0 ||
      jobTypeFilters.includes(job.employmentType);
    const jobMatchesLevel =
      levelFilters.length === 0 || levelFilters.includes(job.level);
    const jobMatchesSalaryCheckbox =
      salaryFilters.length === 0 ||
      salaryFilters.some((range) => {
        const salary = parseInt(job.salary.replace(/[^0-9]/g, ""));
        return salary >= range.min && salary <= range.max;
      });

    // Combine search input and checkbox filters
    return (
      jobMatchesTitle &&
      jobMatchesTypeInput &&
      jobMatchesSalaryInput &&
      jobMatchesTypeCheckbox &&
      jobMatchesLevel &&
      jobMatchesSalaryCheckbox
    );
  });

  displayJobs(filteredJobs);
}

// Function to display jobs
/* function displayJobs(jobsToDisplay) {
  const jobContainer = document.getElementById("jobContainer");
  jobContainer.innerHTML = ""; // Clear previous results

  if (jobsToDisplay.length === 0) {
    jobContainer.innerHTML = "<p>No jobs found.</p>";
  } else {
    jobsToDisplay.forEach((job) => {
      const jobCard = document.createElement("div");
      jobCard.classList.add("job-card");

      const jobTitle = document.createElement("div");
      jobTitle.classList.add("job-card-title");
      jobTitle.textContent = job.title;
      jobCard.appendChild(jobTitle);

      const jobSubtitle = document.createElement("div");
      jobSubtitle.classList.add("job-card-subtitle");
      jobSubtitle.textContent = job.subtitle;
      jobCard.appendChild(jobSubtitle);

      const employmentType = document.createElement("button");
      employmentType.classList.add("detail-button");
      employmentType.textContent = job.employmentType;
      jobCard.appendChild(employmentType);

      const experience = document.createElement("button");
      experience.classList.add("detail-button");
      experience.textContent = job.experience;
      jobCard.appendChild(experience);

      const level = document.createElement("button");
      level.classList.add("detail-button");
      level.textContent = job.level;
      jobCard.appendChild(level);

      const salary = document.createElement("div");
      salary.classList.add("job-card-salary");
      salary.textContent = `Salary: ${job.salary}`;
      jobCard.appendChild(salary);

      // Add action buttons
      const jobCardButtons = document.createElement("div");
      jobCardButtons.classList.add("job-card-buttons");

      job.actions.forEach((action) => {
        const actionButton = document.createElement("button");
        actionButton.classList.add("card-buttons");
        actionButton.classList.add("search-buttons");
        actionButton.textContent = action;

        // Add click event for "Apply Now" button
        if (action === "Apply Now") {
          actionButton.addEventListener("click", () => {
            displayNotification("Applied");
          });
        }

        jobCardButtons.appendChild(actionButton);
      });

      jobCard.appendChild(jobCardButtons);
      jobContainer.appendChild(jobCard);
    });
  }
} */

// Function to display jobs
/* function displayJobs(jobsToDisplay) {
  const jobContainer = document.getElementById("jobContainer");
  jobContainer.innerHTML = ""; // Clear previous results

  if (jobsToDisplay.length === 0) {
    jobContainer.innerHTML = "<p>No jobs found.</p>";
  } else {
    jobsToDisplay.forEach((job, index) => {
      // Create the card container
      const jobCard = document.createElement("div");
      jobCard.classList.add("card", "flex-fill");
      //jobCard.setAttribute("onclick", `showJobDetails('${index}')`);
      // Add the click event to open the job details modal
      jobCard.setAttribute("onclick", "showJobDetails(event)");

      // Create the card body
      const cardBody = document.createElement("div");
      cardBody.classList.add("card-body");

      // Create the company logo and name
      const logoContainer = document.createElement("div");
      logoContainer.classList.add(
        "d-flex",
        "justify-content-between",
        "align-items-center",
        "mb-1",
        "mt-3"
      );
      const companyContainer = document.createElement("div");
      companyContainer.classList.add("d-flex", "align-items-center");

      const logo = document.createElement("img");
      logo.src = "assets/img/images/xlogo.png"; // Use appropriate path or job-specific logo
      logo.alt = `${job.company} Logo`;
      logo.classList.add("img-fluid");
      logo.style.cssText =
        "width: 20px; height: auto; object-fit: cover; border-radius: 5px;";

      const companyName = document.createElement("h6");
      companyName.classList.add("ms-2", "mb-0");
      companyName.textContent = job.company; // Replace with `job.company` if available

      companyContainer.appendChild(logo);
      companyContainer.appendChild(companyName);
      logoContainer.appendChild(companyContainer);
      cardBody.appendChild(logoContainer);

      // Job title
      const jobTitle = document.createElement("h5");
      jobTitle.classList.add("card-title", "mt-2", "mb-2");
      jobTitle.textContent = job.title;
      cardBody.appendChild(jobTitle);

      // Job location and remote indicator
      const locationText = document.createElement("p");
      locationText.classList.add("card-text", "text-muted", "mb-0");
      locationText.innerHTML = `<i class="bi bi-geo-alt"></i> <span class="location-text">${
        job.location || "New York, NY"
      }</span> <span class="mx-1">|</span> <span>Remote</span>`;
      cardBody.appendChild(locationText);

      // Job salary
      const salaryText = document.createElement("p");
      salaryText.classList.add("card-text", "text-muted", "mb-0", "mt-1");
      salaryText.innerHTML = `<i class="bi bi-cash"></i> <span class="salary-text">${job.salary}</span>`;
      cardBody.appendChild(salaryText);

      // Job experience level and type
      const badgeContainer = document.createElement("div");
      badgeContainer.classList.add(
        "d-flex",
        "justify-content-start",
        "align-items-center",
        "mt-1"
      );

      const levelBadge = document.createElement("span");
      levelBadge.classList.add(
        "badge",
        "bg-light-blue",
        "text-dark",
        "d-flex",
        "align-items-center",
        "me-2"
      );
      levelBadge.innerHTML = `<i class="bi bi-star me-1"></i> <span class="experience-text text-muted">${job.level}</span>`;
      badgeContainer.appendChild(levelBadge);

      const separator = document.createElement("span");
      separator.classList.add("me-1");
      separator.textContent = "|";
      badgeContainer.appendChild(separator);

      const typeBadge = document.createElement("span");
      typeBadge.classList.add(
        "badge",
        "bg-light-blue",
        "text-dark",
        "d-flex",
        "align-items-center",
        "me-1"
      );
      typeBadge.innerHTML = `<i class="bi bi-briefcase me-1"></i> <span class="job-type-text text-muted">${job.employmentType}</span>`;
      badgeContainer.appendChild(typeBadge);

      cardBody.appendChild(badgeContainer);

      // Job description
      const jobDescription = document.createElement("p");
      jobDescription.classList.add("card-text", "mt-3", "mb-1");
      jobDescription.innerHTML = `<span class="description-text" id="description${index}">${job.subtitle}</span>
                                  <span id="read-more${index}" class="text-primary" style="cursor: pointer; display: none" onclick="showFullDescription('description${index}', 'read-more${index}', '${job.title}', '${job.subtitle}')"> Read more</span>`;
      cardBody.appendChild(jobDescription);

      // Append card body to job card
      jobCard.appendChild(cardBody);

      // Append job card to container
      jobContainer.appendChild(jobCard);
    });
  }
} */

function displayJobs(jobsToDisplay) {
  const jobContainer = document.getElementById("jobContainer");
  jobContainer.innerHTML = ""; // Clear previous results

  if (jobsToDisplay.length === 0) {
    jobContainer.innerHTML = "<p>No jobs found.</p>";
  } else {
    jobsToDisplay.forEach((job, index) => {
      // Create the card container
      const jobCard = document.createElement("div");
      jobCard.classList.add("card", "flex-fill");
      jobCard.setAttribute("onclick", `showJobDetails(event)`);

      // Add data attributes for the modal content
      jobCard.setAttribute("data-title", job.title);
      jobCard.setAttribute("data-company", job.company);
      jobCard.setAttribute("data-location", job.location || "New York, NY");
      jobCard.setAttribute("data-type", job.employmentType);
      jobCard.setAttribute("data-experience", job.experience);
      jobCard.setAttribute("data-salary", job.salary);
      jobCard.setAttribute("data-description", job.subtitle);
      jobCard.setAttribute(
        "data-requirements",
        job.requirements || "Requirement 1, Requirement 2, Requirement 3"
      );
      jobCard.setAttribute(
        "data-benefits",
        job.benefits || "Benefit 1, Benefit 2, Benefit 3"
      );

      // Create the card body
      const cardBody = document.createElement("div");
      cardBody.classList.add("card-body");

      // Create the company logo and name
      const logoContainer = document.createElement("div");
      logoContainer.classList.add(
        "d-flex",
        "justify-content-between",
        "align-items-center",
        "mb-1",
        "mt-3"
      );

      const companyContainer = document.createElement("div");
      companyContainer.classList.add("d-flex", "align-items-center");

      const logo = document.createElement("img");
      logo.src = "assets/img/images/xlogo.png"; // Use appropriate path or job-specific logo
      logo.alt = `${job.company} Logo`;
      logo.classList.add("img-fluid");
      logo.style.cssText =
        "width: 20px; height: auto; object-fit: cover; border-radius: 5px;";

      const companyName = document.createElement("h6");
      companyName.classList.add("ms-2", "mb-0");
      companyName.textContent = job.company;

      companyContainer.appendChild(logo);
      companyContainer.appendChild(companyName);
      logoContainer.appendChild(companyContainer);
      cardBody.appendChild(logoContainer);

      // Job title
      const jobTitle = document.createElement("h5");
      jobTitle.classList.add("card-title", "mt-2", "mb-2");
      jobTitle.textContent = job.title;
      cardBody.appendChild(jobTitle);

      // Job location and remote indicator
      const locationText = document.createElement("p");
      locationText.classList.add("card-text", "text-muted", "mb-0");
      locationText.innerHTML = `<i class="bi bi-geo-alt"></i> <span class="location-text">${
        job.location || "New York, NY"
      }</span> <span class="mx-1">|</span> <span>Remote</span>`;
      cardBody.appendChild(locationText);

      // Job salary
      const salaryText = document.createElement("p");
      salaryText.classList.add("card-text", "text-muted", "mb-0", "mt-1");
      salaryText.innerHTML = `<i class="bi bi-cash"></i> <span class="salary-text">${job.salary}</span>`;
      cardBody.appendChild(salaryText);

      // Job experience level and type
      const badgeContainer = document.createElement("div");
      badgeContainer.classList.add(
        "d-flex",
        "justify-content-start",
        "align-items-center",
        "mt-1"
      );

      const levelBadge = document.createElement("span");
      levelBadge.classList.add(
        "badge",
        "bg-light-blue",
        "text-dark",
        "d-flex",
        "align-items-center",
        "me-2"
      );
      levelBadge.innerHTML = `<i class="bi bi-star me-1"></i> <span class="experience-text text-muted">${job.level}</span>`;
      badgeContainer.appendChild(levelBadge);

      const separator = document.createElement("span");
      separator.classList.add("me-1");
      separator.textContent = "|";
      badgeContainer.appendChild(separator);

      const typeBadge = document.createElement("span");
      typeBadge.classList.add(
        "badge",
        "bg-light-blue",
        "text-dark",
        "d-flex",
        "align-items-center",
        "me-1"
      );
      typeBadge.innerHTML = `<i class="bi bi-briefcase me-1"></i> <span class="job-type-text text-muted">${job.employmentType}</span>`;
      badgeContainer.appendChild(typeBadge);

      cardBody.appendChild(badgeContainer);

      // Job description with Read More link
      const jobDescription = document.createElement("p");
      jobDescription.classList.add("card-text", "mt-3", "mb-1");
      jobDescription.innerHTML = `<span class="description-text" id="description${index}">${job.subtitle}</span>
                                    <span id="read-more${index}" class="text-primary" style="cursor: pointer; display: none" onclick="showFullDescription('description${index}', 'read-more${index}', '${job.title}', '${job.subtitle}')"> Read more</span>`;
      cardBody.appendChild(jobDescription);

      // Append card body to job card
      jobCard.appendChild(cardBody);

      // Add action buttons
      const jobCardButtons = document.createElement("div");
      jobCardButtons.classList.add("job-card-buttons");

      job.actions.forEach((action) => {
        const actionButton = document.createElement("button");
        actionButton.classList.add("card-buttons");
        actionButton.classList.add("search-buttons");
        actionButton.textContent = action;

        // Add click event for "Apply Now" button
        if (action === "Apply Now") {
          actionButton.addEventListener("click", () => {
            displayNotification("Applied");
          });
        }

        jobCardButtons.appendChild(actionButton);
      });

      jobCard.appendChild(jobCardButtons);
      //jobContainer.appendChild(jobCard);

      // Append job card to container
      jobContainer.appendChild(jobCard);
    });
  }
}

// Add event listeners to search inputs to trigger filtering when changed
document.getElementById("jobTitleInput").addEventListener("input", filterJobs);
document.getElementById("jobTypeInput").addEventListener("input", filterJobs);
document.getElementById("salaryInput").addEventListener("input", filterJobs);

// Add event listeners to checkboxes to trigger filtering when changed
const checkboxes = document.querySelectorAll(".job-style");
checkboxes.forEach((checkbox) => {
  checkbox.addEventListener("change", filterJobs);
});

// Initial call to display all jobs when the page loads
window.onload = () => {
  displayJobs(jobs.searchedJobs.jobCards);
};

// Function to display the notification
function displayNotification(message) {
  const notification = document.createElement("div");
  notification.classList.add("notification");
  notification.textContent = message;

  document.body.appendChild(notification);

  // Automatically hide the notification after 2 seconds
  setTimeout(() => {
    notification.remove();
  }, 2000);
}

function showJobDetails(event) {
  const jobCard = event.currentTarget;

  const title = jobCard.getAttribute("data-title");
  const company = jobCard.getAttribute("data-company");
  const location = jobCard.getAttribute("data-location");
  const type = jobCard.getAttribute("data-type");
  const experience = jobCard.getAttribute("data-experience");
  const salary = jobCard.getAttribute("data-salary");
  const description = jobCard.getAttribute("data-description");
  const requirements = jobCard.getAttribute("data-requirements").split(", ");
  const benefits = jobCard.getAttribute("data-benefits").split(", ");

  // Set modal contents
  document.getElementById("job-title").innerText = title;
  document.getElementById("job-company-name").innerText = company;
  document.getElementById("job-location").innerText = location;
  document.getElementById("job-type").innerText = type;
  document.getElementById("job-experience").innerText = experience;
  document.getElementById("job-salary").innerText = salary;
  document.getElementById("job-description").innerText = description;

  // Populate requirements
  const requirementsList = document.getElementById("job-requirements");
  requirementsList.innerHTML = "";
  requirements.forEach((req) => {
    const li = document.createElement("li");
    li.textContent = req;
    requirementsList.appendChild(li);
  });

  // Populate benefits
  const benefitsList = document.getElementById("job-benefits");
  benefitsList.innerHTML = "";
  benefits.forEach((benefit) => {
    const li = document.createElement("li");
    li.textContent = benefit;
    benefitsList.appendChild(li);
  });

  // Show the modal
  document.getElementById("job-details-modal").style.display = "block";
}

function hideJobDetails() {
  document.getElementById("job-details-modal").style.display = "none";
}

function applyForJob() {
  alert("Thank you for applying! We have received your application.");
  // Additional functionality for applying can be added here
  hideJobDetails(); // Optionally close the modal after applying
}
